<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Äventyret</title>
    <style>
        
        body {
            font-family: 'Times New Roman', Times, serif;         
            background-image: url('linus-sandvide-5DIFvVwe6wk-unsplash.jpg');
            background-size: cover;
            background-color: #f2ffff;

        }

        #container {
            width: 80%;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
            background-color: #2e0e0e;
            border-radius: 5px;
            opacity: 0.5;
        }

        #output {
            margin-bottom: 10px;
            padding: 20px;
            background-color: #fdfcfc;
            border: 5px solid #ddd;
            border-radius: 5px;
            min-height: 100px;
        }

        #input {
            width: calc(100% - 25px);
            padding: 8px;
            border: 5px solid #f6efef;
            border-radius: 5px;
            font-size: 16px;
        }

        button {
            padding: 8px 15px;
            background-color: #515254;
            margin-top: 10px;
            border: none;
            border-radius: 5px;
            color: #fff;
            cursor: pointer;
            font-size: 16px;   
        }

        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
    <body>
        <div id="container">
        <div id="output"></div>
        <input type="text" id="input"placeholder="Skriv 'startgame' för att börja ditt äventyr..."oninput="removePlaceholder()">   
        <button id="button">Skicka meddelande</button>
        </div>
        <script>
            document.getElementById("button").onclick=sendMessage;
            // GLOBALER //
            gameLocation = ''; // lägg till denna funktion med ex (message === 'exploreCaveEntrence' && gameLocation = xxx) 
            
            function clearOutput (){
                document.getElementById('output').innerHTML = '';
            }

            // SPELET //
            function startGame() {
                print ('Welcome adventurer!');
                newLine();
                print ('You have been wandering for hours after finnishing your last class at Chasacademy...');
                newLine();
                print ('When you suddenly realize you are standing infront of a large cave..');
                newLine()
                print ('Do you dare to enter? Type "enter" if you want to continue the journey! ');
            }

            function exploreCaveEntrence() {
                clearOutput ();
                print ('You cautiously enter the cave...');
                newLine ();
                print ('As you venture deeper, everything becomes darker..');
                newLine ();
                print ('You which you had a torch, but then you realise you live in 2024 and turn on the flashlight on your phone.');
                newLine ();
                print ('With the light turned on you, you see a pathway infront of you..');
                newLine ();
                print ('Do you go "left" or "right');
                gameLocation = 'exploreCaveEntrence';
       
            }

            function leftCaveEntrance() {
                clearOutput();
                print ('You go down the left pathway, its getting smaller and more narrow as you get closer..');
                newLine();
                print ('Eventually you reach a big door, its locked but you can see through the cracks.. ');
                newLine()
                print ('On the other side of the door you see something shining, it looks like a big treasure chest..');
                newLine()
                print ('You have read enough fantasy novels to realize the chest must contain something valueable.. But where is the key?');
                newLine()
                print ('You realize you need to go "back" to find the key');
                gameLocation = 'leftCaveEntrence';
            
            }   
            
            function wrongTurn() {
                clearOutput();
                print ('You are back where the pathway divided..');
                newLine();
                print ('This time you choose the "right" pathway.');
                gameLocation = 'exploreCaveEntrence';
            }

            function rightCaveEntrance() {
                clearOutput();
                print ('test2');
                newLine();
                print ('test2');
                newLine()
                print ('test2');
            }

            function aaaa() {
                clearOutput();
                print ('');
                newLine();
                print ('');
                newLine()
                print ('');
            }

            function aaaaaaa() {
                clearOutput();
                print ('');
                newLine();
                print ('');
                newLine()
                print ('');
            }

            function xxxxxxx() {
                clearOutput();
                print ('');
                newLine();
                print ('');
                newLine()
                print ('');
            }

            function xxxx() {
                clearoutput();
                print ('');
                newLine();
                print ('');
                newLine()
                print ('');
            }

            

            // FUNKTIONER INPUT/OUTPUT //
            function sendMessage() {
            let inputElement = document.getElementById('input');
            let outputElement = document.getElementById('output');
            let message = inputElement.value;
            inputElement.value = '';
            if (message === 'startgame') {
                startGame();
            } else if (message === 'enter') {
                exploreCaveEntrence();
            } else if (message === 'left' && gameLocation === 'exploreCaveEntrence') {
                leftCaveEntrance();
            } else if (message === 'back' && gameLocation === 'leftCaveEntrence') {
                wrongTurn();
            }  else if (message === 'right' && gameLocation === 'exploreCaveEntrence') {
                rightCaveEntrance();
            }

        
            }

             // VERKTYG //
            function removePlaceholder() {
            inputElement = document.getElementById('input');
            inputElement.removeAttribute('placeholder');
            }
        
            function print(text){
                OUTPUT = document.getElementById('output');
                OUTPUT.innerHTML += text;
            }

            function newLine(){
                OUTPUT = document.getElementById('output');
                OUTPUT.innerHTML += "<br>";
            }

            function newLineDelay() {
                setTimeout(function() {
                    newLine();
                }, 1000);
            }
        


        </script>
    </body>
</html>
